var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,e){a!=Array.prototype&&a!=Object.prototype&&(a[c]=e.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var a=0;return function(c){return $jscomp.SYMBOL_PREFIX+(c||"")+a++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var c=0;return $jscomp.iteratorPrototype(function(){return c<a.length?{done:!1,value:a[c++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.iteratorFromArray=function(a,c){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var e=0,f={next:function(){if(e<a.length){var g=e++;return{value:c(g,a[g]),done:!1}}f.next=function(){return{done:!0,value:void 0}};return f.next()}};f[Symbol.iterator]=function(){return f};return f};
$jscomp.polyfill=function(a,c,e,f){if(c){e=$jscomp.global;a=a.split(".");for(f=0;f<a.length-1;f++){var g=a[f];g in e||(e[g]={});e=e[g]}a=a[a.length-1];f=e[a];c=c(f);c!=f&&null!=c&&$jscomp.defineProperty(e,a,{configurable:!0,writable:!0,value:c})}};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");
$jscomp.findInternal=function(a,c,e){a instanceof String&&(a=String(a));for(var f=a.length,g=0;g<f;g++){var k=a[g];if(c.call(e,k,g,a))return{i:g,v:k}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,e){return $jscomp.findInternal(this,a,e).v}},"es6","es3");
(function(){function a(c,e,f){function g(b,n){if(!e[b]){if(!c[b]){var q="function"==typeof require&&require;if(!n&&q)return q(b,!0);if(k)return k(b,!0);n=Error("Cannot find module '"+b+"'");throw n.code="MODULE_NOT_FOUND",n;}n=e[b]={exports:{}};c[b][0].call(n.exports,function(a){var f=c[b][1][a];return g(f?f:a)},n,n.exports,a,c,e,f)}return e[b].exports}for(var k="function"==typeof require&&require,b=0;b<f.length;b++)g(f[b]);return g}return a})()({1:[function(a,c,e){a("./sliders.js");"serviceWorker"in
navigator&&navigator.serviceWorker.register("/sw.js").catch(function(a){console.err("Error registering service worker",a)})},{"./sliders.js":3}],2:[function(a,c,e){function f(b,a){principle=("e"==a?b.VCOE:b.VCOF)*(1-b.FPE/100);interest=b.FLR/1200;b=Math.pow(1+interest,12*b.FLT);return principle*interest*b/(b-1)}var g="DR DRD VDU FLR FLT FPE FIF FRI VCOE VM RER REE MEC MEO FDE FBR VBL VBCO VCOF VDM RFR RFE MFC MFO FDD".split(" "),k={};$(document).ready(function(){g.forEach(function(b){k[b]=$(".graph-row[variate-key\x3d"+
b+"] input[type\x3drange]")})});c.exports={getAnswers:function(b){b=b||{};Object.keys(k).forEach(function(a){var d=b,m=parseFloat,h=b[a],p=k[a].val();d[a]=m("undefined"!=typeof h?h:p)*(parseInt(k[a].attr("scale"))||1)});for(var a=b.DR*b.DRD,c=b.VBL,e=b.VCOE*b.FPE/100,g=f(b,"e"),r=b.VCOF*b.FPE/100,t=f(b,"f"),m=12*b.FLT,h=e,d=r,p=0,y=[],w=-1,l=1;l<=12*b.VDU;l++){var u=Math.pow(1+b.FRI/1200,l);h+=b.DR*b.DRD*(b.VM*b.RER*Math.pow(1+b.REE/1200,l)+(b.MEC+b.MEO)*Math.pow(1+b.FIF/1200,l))/u;d+=b.DR*b.DRD*
(b.RFR*Math.pow(1+b.RFE/1200,l)/b.VDM+(b.MFC+b.MFO)*Math.pow(1+b.FIF/1200,l))/u;l<=m&&(h+=g/u,d+=t/u);0>=c&&(c=b.VBCO*Math.pow(1-b.FBR/1200,l)/u,p+=c,h+=c,c=b.VBL,y.push(l));c-=a;h<=d&&-1==w?w=l:h>d&&(w=-1)}a=b.VCOE*Math.pow(1-b.FDE/100,b.VDU)/Math.pow(1+b.FRI/1200,b.VDU);l=b.VCOF*Math.pow(1-b.FDD/100,b.VDU)/Math.pow(1+b.FRI/1200,b.VDU);h-=a;d-=l;return{emiMonths:m,_s:"",evCost:h,evDownPayment:e,evEmi:g,batteryMonths:y,batteryReplaceMentCost:p,evSalvage:a,__s:"",fossilCost:d,fossilDownPayment:r,fossilEmi:t,
fossilSalvage:l,___s:"",savings:Math.round(d-h),payback:w}}}},{}],3:[function(a,c,e){function f(a){var b=100/a.data.length,d=-Infinity;a.data.forEach(function(a){a.val>d&&(d=a.val)});var m=Math.abs(100/d);return a.data.map(function(d,h){var p=Math.max(0,d.val*m);return'\x3cdiv style\x3d"width:'+b+'%;" class\x3d"column" data-id\x3d"'+a.dataId+'" range\x3d"'+d.range+'"\x3e\x3cdiv style\x3d"bottom:'+p+'%;" class\x3d"column-value-display" value\x3d"'+d.val+'"\x3e\u20b9 \x3cspan\x3e'+d.val+"\x3c/span\x3e\x3c/div\x3e"+
(0==h||h==a.data.length-1?'\x3cdiv style\x3d"bottom:'+p+'%;" class\x3d"column-value-display-terminal" value\x3d"'+d.val+'"\x3e\u20b9 \x3cspan\x3e'+d.val+"\x3c/span\x3e\x3c/div\x3e":"")+'\x3cdiv style\x3d"height:'+p+'%;" class\x3d"column-value" value\x3d"'+d.val+'"\x3e\x3c/div\x3e\x3c/div\x3e'})}function g(a){var b=parseFloat(a.input.attr("min")),d=parseFloat(a.input.attr("max")),m=[],c=parseFloat(a.input.attr("step"));d=(d-b)/a.numSteps;for(var e=0;e<a.numSteps;e++){var f=c*Math.round((e*d+d/2+b)/
c),g={};g[a.variateKey]=f;m.push({range:f,val:v.getAnswers(g).savings})}return m}function k(a){var b=$(".chart-container[data-id\x3d"+a+"]"),d=b.children();if(d.length){a=$("input[type\x3drange][data-id\x3d"+a+"]");var p=a.attr("max"),c=a.attr("min");a=(a.val()-c)/(p-c);a=Math.min(Math.floor(a*d.length),d.length-1);b.find(".active").removeClass("active");b.find(".adjacent").removeClass("adjacent");$(d[a]).addClass("active").find(".column-value-display span").text($("#net-savings span").text());0<
a&&$(d[a-1]).addClass("adjacent");a<d.length-1&&$(d[a+1]).addClass("adjacent")}}function b(a){var b=$("input[type\x3drange][data-id\x3d"+a+"]");a=b.parent().children(".input-value-display");a.children("span").text(b.val());var d=a.outerWidth(),c=b.attr("max")-b.attr("min");b=Math.round(b.parent().width()*(b.val()-b.attr("min"))/c-d/2);a.css("left",b+"px")}function q(a,b){var d=a.graph.attr("data-id");clearTimeout(t[d]);var c=a.graph,e=r.scrollTop(),h=e+r.height(),m=c.offset().top;c=m+c.height();c<=
h&&c>=e||m<=h&&m>=e||b?(a.graph.html(f({data:g({numSteps:a.numSteps||31,input:a.targetInput,variateKey:a.targetInput.attr("variate-key")}),dataId:d})),k(d)):t[d]=setTimeout(q,1E3,a,!0)}function n(a){a=a||{};$(".chart-group-container").each(function(){var b=$(this);b.attr("data-id")==a.dataId||a.context&&b.attr("context")!=a.context||q({graph:b.children(".chart-container"),targetInput:b.children("input[type\x3drange]")})})}function x(a){$("#net-savings span").text(a.savings);$("#payback-period span").text(a.payback)}
var v=a("./math.js"),r=$(window),t={};$(document).ready(function(){function a(a){if(a.val()!=a.attr("lastHandledValue")){var d=a.attr("data-id");$(".coupled-input[data-id\x3d"+a.attr("data-id")+"]").val(a.val());$(".coupled-input[data-id\x3d"+a.attr("data-id")+"]").attr("lastHandledValue",a.val());var c=v.getAnswers();x(c);n({dataId:d,context:a.attr("context")});k(d);b(d);$(".graph-row[context\x3d"+a.attr("context")+"] .column.active .column-value-display span").text(c.savings)}}var c=0;$(".graph-row").each(function(){var a=
$(this);a.find("input, .chart-group-container, .chart-container, .input-value-display").attr("data-id",c).attr("context",a.attr("context")).attr("variate-key",a.attr("variate-key"));c++});$(".chart-group-container\x3einput").each(function(){var a=$(this);if(a.hasClass("coupled-input")){var b=$(".coupled-input[data-id\x3d"+a.attr("data-id")+"]");b.attr("min",a.attr("min"));b.attr("max",a.attr("max"));b.attr("step",a.attr("step"))}});$(".chart-container").on("click",".column",function(){var a=$(this);
$("input[type\x3drange][data-id\x3d"+a.attr("data-id")+"]").val(a.attr("range")).change()});n();$(".coupled-input").change(function(){a($(this))});$(".coupled-input").on("input",function(){a($(this))});$("input[type\x3drange]").each(function(){b($(this).attr("data-id"))});x(v.getAnswers());$("input[type\x3drange][variate-key\x3dVDU]").change(function(){var a=$(this).val(),c=$("input[type\x3drange][variate-key\x3dFLT]");c.attr("max",a);c.val(Math.min(c.val(),c.attr("max"))).change();k(c.attr("data-id"));
b(c.attr("data-id"))}).change();$("#debug").click(function(){var a=v.getAnswers(),b="";Object.keys(a).forEach(function(c){b=0==c.indexOf("_")?b+"\n":b+(c+" :  "+Math.round(a[c])+"\n")});alert(b)})})},{"./math.js":2}]},{},[1]);
